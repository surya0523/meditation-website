{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DEE PLUS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap');

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #fff0f0;
        }

        .nav-link {
            transition: color 0.3s ease;
        }

        .nav-link:hover {
            color: #d1b7d5;
        }

        .footer-logo {
            filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
        }

        .menu-transition {
            transition: max-height 0.3s ease-out;
            overflow: hidden;
            max-height: 0;
        }

        .menu-transition.open {
            max-height: 500px;
        }
    </style>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body class="flex flex-col min-h-screen font-['Montserrat']">
    <!-- Header/Navigation Bar -->
    <header class="bg-[#b184bf] rounded-3xl m-4 p-4 shadow-lg">
        <div class="flex items-center justify-between">
            <!-- Logo -->
            <h1 class="text-white text-2xl font-bold tracking-tight">
                <a href="{% url 'home' %}">DEE<br>PLUS</a>
            </h1>

            <!-- Hamburger Icon (Mobile) -->
            <button id="menu-toggle" class="md:hidden text-white text-2xl focus:outline-none">
                ☰
            </button>

            <!-- Navigation Links and Icons (Desktop) -->
            <nav id="nav-menu" class="hidden md:flex md:items-center md:space-x-8 text-[#ffffff] font-medium text-lg w-full">
                <!-- Links centered on desktop -->
                <div class="flex-grow flex justify-center space-x-8">
                    <a href="{% url 'home' %}" class="nav-link">Home</a>
                    <a href="{% url 'therapy' %}" class="nav-link">Therapy</a>
                    <a href="{% url 'about' %}" class="nav-link">About Us</a>
                    <a href="{% url 'meditation' %}" class="nav-link">Meditation</a>
                    <a href="{% url 'contact' %}" class="nav-link">Contact Us</a>
                </div>

                
            </nav>
            <!-- Icons on the right -->
                <div class="flex items-center space-x-4 text-xl">
                    <button id="search-toggle" class="text-[#5b3b61] hover:text-[#7f5d84] transition-colors">
                        <i class="fas fa-search"></i>
                    </button>
                    <a href="{% url 'login' %}" class="text-[#5b3b61] hover:text-[#7f5d84] transition-colors">
                        <i class="fas fa-user"></i>
                    </a>
                </div>
        </div>

        <!-- Search Form -->
        <form id="search-form" action="{% url 'search_results' %}" method="get"
            class="absolute top-20 right-4 w-64 bg-white rounded-xl shadow-lg p-2 transition-all duration-300 opacity-0 pointer-events-none z-50">
            <div class="relative">
                <input type="search" name="q" placeholder="Search..."
                    class="w-full px-4 py-2 text-sm rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#b184bf]">
                <button type="submit"
                    class="absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[#b184bf]">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </form>

        <!-- Mobile Navigation Menu -->
        <nav id="mobile-nav-menu" class="menu-transition md:hidden w-full text-center mt-4">
            <ul class="flex flex-col space-y-4 text-[#5b3b61] font-medium">
                <li><a href="{% url 'home' %}" class="nav-link block p-2">Home</a></li>
                <li><a href="{% url 'therapy' %}" class="nav-link block p-2">Therapy</a></li>
                <li><a href="{% url 'about' %}" class="nav-link block p-2">About Us</a></li>
                <li><a href="{% url 'meditation' %}" class="nav-link block p-2">Meditation</a></li>
                <li><a href="{% url 'contact' %}" class="nav-link block p-2">Contact Us</a></li>

                
            </ul>

        </nav>
    </header>


    <!-- Main Content Block -->
    <main class="flex-grow container mx-auto p-4">
        {% block content %}
        <!-- Child templates will fill this block with their content -->
        {% endblock %}
    </main>

    <!-- Footer -->
    <footer class="bg-[#d1b7d5] rounded-3xl m-4 p-8 shadow-lg text-[#5b3b61] text-sm">
        <div class="container mx-auto grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-8">
            <!-- Logo Section -->
            <div class="col-span-2 md:col-span-1">
                <div class="flex items-center mb-4">
                    <h1 class="text-3xl font-bold tracking-tight footer-logo"><a href="{% url 'home' %}">DEE<br>PLUS</a>
                    </h1>
                </div>
            </div>

            <!-- Links Sections -->
            <div>
                <h3 class="font-bold text-base mb-2">Home</h3>
                <ul>
                    <li><a href="#" class="hover:underline">Happiness Week</a></li>
                    <li><a href="{% url 'about' %}" class="hover:underline">About Us</a></li>
                    <li><a href="{% url 'contact' %}" class="hover:underline">Contact Us</a></li>
                    <li><a href="#" class="hover:underline">Course</a></li>
                    <li><a href="{% url 'meditation' %}" class="hover:underline">Meditation</a></li>
                </ul>
            </div>
            <div>
                <h3 class="font-bold text-base mb-2">Quick links</h3>
                <ul>
                    <li><a href="#" class="hover:underline">FAQ</a></li>
                    <li><a href="#" class="hover:underline">Terms & Conditions</a></li>
                    <li><a href="#" class="hover:underline">Help Center</a></li>
                    <li><a href="#" class="hover:underline">Partnership</a></li>
                </ul>
            </div>

            <!-- Opening Time Section -->
            <div>
                <h3 class="font-bold text-base mb-2">Opening Time</h3>
                <p>Monday - Sunday</p>
                <p>9.00 AM To 9.00PM</p>
            </div>

            <!-- Contact Section -->
            <div>
                <h3 class="font-bold text-base mb-2">Contact:</h3>
                <p><i class="fas fa-map-marker-alt mr-2"></i>6, Hethendran Street, Kongu Nagar, Karur - 26</p>
                <p class="mt-2"><i class="fas fa-phone-alt mr-2"></i>+9532 32556</p>
                <p class="mt-2"><i class="fas fa-envelope mr-2"></i>deepluswell@gmail.com</p>
            </div>
        </div>
        <div class="mt-8 flex justify-center items-center">
            <div class="w-12 h-12 bg-gray-400 rounded-full overflow-hidden">
                <img src="{% static 'images/yoga-day-exercise-meditation-graphic-relaxing-sports_520426_wh1200.png' %}"
                    alt="Human meditating" class="w-full h-full object-cover">
            </div>
        </div>
    </footer>

    <!-- JavaScript to toggle search form and mobile menu visibility -->
    <script>
        const searchToggle = document.getElementById('search-toggle');
        const searchForm = document.getElementById('search-form');
        const menuToggle = document.getElementById('menu-toggle');
        const mobileMenu = document.getElementById('mobile-nav-menu');

        // Toggle search form visibility
        searchToggle.addEventListener('click', (event) => {
            event.stopPropagation();
            searchForm.classList.toggle('opacity-0');
            searchForm.classList.toggle('pointer-events-none');
            searchForm.classList.toggle('opacity-100');
        });

        // Toggle mobile menu visibility - **FIXED**
        menuToggle.addEventListener('click', () => {
            // "hidden" கிளாஸுக்குப் பதிலாக "open" கிளாஸைத் toggle செய்கிறோம்.
            mobileMenu.classList.toggle('open');
        });

        // Close form if user clicks outside of it
        document.addEventListener('click', (event) => {
            if (!searchForm.contains(event.target) && !searchToggle.contains(event.target)) {
                searchForm.classList.remove('opacity-100');
                searchForm.classList.add('opacity-0', 'pointer-events-none');
            }
        });
    </script>
</body>

</html>
